# 运维事件闭环平台

> 文档状态：仓库入口（现行）  
> 校准日期：2026-02-24
> 口径说明：仓库级导航入口，边界定义以 docs/ 主线文档为准。

> 面向运维工程师 / SRE / 平台维护者的统一运维平台。  
> 当前主线聚焦“文件入云 + 告警决策 + AI 分析 + 知识库复用”，在同一控制台打通事件发现、诊断、回放与追溯。
> 文档口径校准日期：2026-02-24

## 1. 核心定位

### 1.1 平台主线能力

1. 文件入云（文件监控上传、队列治理、重试与回压）
2. 告警监控与决策（规则匹配、抑制/升级、可解释决策）
3. AI 分析与降级（日志/告警摘要、失败分类、降级兜底）
4. 运维知识库复用（检索、问答引用、推荐、回写追溯）
5. 统一控制台闭环（发现、诊断、回放、追溯）

### 1.2 支撑能力

1. 控制面与 Agent 管理（任务执行治理）
2. 系统/主机资源采集（排障上下文与轻量处置）
3. 通知通道（钉钉/邮件）

## 2. 仓库结构与职责

- `go-watch-file/`：后端执行平面与统一 API（文件入云、告警决策、AI 分析、知识库复用、支撑能力）。
- `console-frontend/`：统一运维控制台（主控制台、告警、系统资源、知识库、控制面）。
- `docs/`：平台文档体系与专题手册。
- `reports/`：回放、压测、阶段复盘输出。
- `legacy/`：历史归档资料。

## 3. 快速开始

### 3.1 后端

```bash
cd go-watch-file
cp .env.example .env
go build -o bin/file-watch cmd/main.go
./bin/file-watch -config config.yaml
```

### 3.2 前端

```bash
cd console-frontend
npm install
npm run dev
```

默认前端会把 `/api` 代理到 `http://localhost:8080`。

### 3.3 Docker Compose（可选）

```bash
cp .env.example .env
docker compose up --build -d
```

- 前端：`http://localhost:8081`
- 后端：`http://localhost:8082`

## 4. 文档入口

- 文档中心：`docs/README.md`
- 文档导航：`docs/文档导航.md`
- 现行清单：`docs/00-文档治理/文档现行状态清单.md`
- 平台定位：`docs/01-平台定位/项目定位与主线能力.md`
- 架构说明：`docs/02-架构设计/总体架构说明.md`
- 模块说明：`docs/03-能力模块/功能模块说明.md`
- Roadmap：`docs/04-路线图与计划/Roadmap.md`
- TODO：`docs/04-路线图与计划/TODO.md`

## 5. docs 目录同序号说明

- `docs/` 同时保留“主线目录”和“专题兼容目录”，因此会出现 `02/03/04` 同序号但不同主题目录。
- 主线目录（`01-平台定位`、`02-架构设计`、`03-能力模块`、`04-路线图与计划`）定义最新平台口径。
- 专题兼容目录（`02-开发运维`、`03-告警与AI`、`04-知识库`、`05-指标与评估`）用于保留历史路径、样本和脚本依赖。
- 任何时候判断“哪些文档最新”，统一以 `docs/00-文档治理/文档现行状态清单.md` 为准。

## 6. 当前约束（与代码一致）

- 控制面与知识库目前是单实例本地 SQLite 实现。
- 当前阶段聚焦单团队/单租户闭环，复杂多用户、多租户、细粒度 RBAC/计费能力后置。
- 当前管理接口默认匿名可访问，尚未引入 RBAC。
- 文件入云是当前主线入口，现阶段以本地文件监控为主，手动/API 输入为补充。

## 7. 历史与兼容

- 旧版专题文档仍在 `docs/02-开发运维/`、`docs/03-告警与AI/`、`docs/04-知识库/`、`docs/05-指标与评估/`。
- 新旧映射见 `docs/98-历史兼容/旧文档映射.md`。
