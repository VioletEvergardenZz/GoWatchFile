# 项目定位与主线能力

> 文档状态：现行（主线）  
> 校准日期：2026-02-24
> 口径说明：该文档为主线口径，发生边界变更时需优先更新。

## 1. 平台定义

GWF 是一个面向运维工程师 / SRE / 平台维护者的运维事件闭环平台，目标是把分散的运维事件处理流程收敛为可观测、可追溯、可执行的统一闭环。

当前主线聚焦：`文件入云 + 告警决策 + AI 分析 + 知识库复用`。
平台通过统一控制台打通事件发现、诊断、回放与追溯，持续优化 `MTTD/MTTR`。

## 2. 目标用户

- 运维工程师：需要快速执行日常巡检、处置告警、回放问题。
- SRE：需要稳定性指标、告警治理、故障复盘链路。
- 平台维护者：需要跨模块迭代、版本治理、能力边界控制。

## 3. 主线能力与支撑能力

### 3.1 主线能力（平台主线）

1. 文件入云（文件监控上传、静默窗口、重试与回压治理）
2. 告警监控与决策（规则匹配、抑制/升级、可解释决策）
3. AI 分析与降级（日志/告警摘要、失败分类、降级可观测）
4. 运维知识库复用（检索、问答引用、推荐与回写追溯）
5. 统一控制台闭环（发现、诊断、回放、追溯）

### 3.2 支撑能力（保障主线落地）

1. 控制面与 Agent 管理（任务编排与执行治理的最小控制面）
2. 系统/主机资源采集（主机观测与轻量处置）
3. 通知通道（钉钉、邮件）

## 4. 当前版本能力口径（以代码为准）

- 后端 `go-watch-file` 提供统一 API，包含文件入云、告警、AI、知识库、控制面、系统资源等能力。
- 文件入云链路已具备目录监听、后缀过滤、静默窗口、并发上传、失败重试与队列保护。
- 告警模块已具备规则匹配、抑制、升级、决策展示与规则配置能力。
- AI 分析已提供日志摘要与告警摘要链路，失败场景支持降级与错误分类。
- 知识库已具备文章生命周期、检索、问答、推荐、导入、回滚与评审相关接口；生命周期状态口径为 `draft/reviewing/published/archived`。
- 控制台已整合主控制台、告警、知识库、系统资源与控制面视图，承载统一事件闭环入口。
- 控制面与系统资源能力作为当前阶段支撑能力，服务主线闭环落地。

## 5. 当前边界（明确不做）

- 当前版本不是完整的分布式调度平台，控制面仍以单实例后端 + SQLite 为主。
- 当前阶段聚焦单团队/单租户可落地能力，暂不引入复杂多用户模型。
- 当前版本未引入多租户隔离、细粒度 RBAC 与计费体系。
- 文件入云当前以本地文件监控为主，同时保留手动/API 输入，不覆盖全量输入源生态。

## 6. 判断“是否属于主线需求”的标准

一个需求满足以下任一条件，归为主线需求：

- 直接提升文件入云链路稳定性、吞吐或输入质量。
- 直接提升告警决策闭环稳定性、可解释性或处置效率。
- 直接提升 AI 分析质量、降级可靠性或可观测性。
- 直接提升知识复用效率、引用可信度或回放追溯能力。
- 直接提升统一控制台对 `MTTD/MTTR` 的改善效果。

否则归入支撑能力或后续阶段需求，按主线优先级让位。
