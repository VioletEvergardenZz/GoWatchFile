# MVP 范围定义（事件分析与知识决策导向）

## 目标
在当前阶段交付三条可运行闭环：
1) 运维事件分析闭环（采集 -> 分析 -> 决策）；
2) 知识决策闭环（沉淀 -> 检索 -> 问答 -> 推荐）；
3) 文件监控上传链路稳定维护（作为可选采集器）。

> 说明：文件监控上传不再是唯一主线；AI 与知识库能力是本阶段核心。

## 范围分级

### A 类（本迭代必须完成）
- 事件输入适配器可用（文件监控上传 + 手动/API 输入）。
- 文件监控上传链路稳定（队列 + worker + 重试 + 可选持久化恢复）。
- 失败可见（日志/状态/健康指标）与手动补传。
- AI 日志分析主链路可用（`/api/ai/log-summary`、配置校验、超时降级）。
- 告警决策主链路可用（规则匹配、抑制/升级、决策可视化），并支持告警 AI 摘要。
- 知识库闭环可用（检索、问答引用、推荐联动、评估门禁）。
- 最小安全能力（接口鉴权 + CORS 白名单 + 路径越权防护）。
- 基线验证（后端测试 + 前端构建门禁）与关键文档同步。

### B 类（下一阶段优先）
- 指标体系标准化（SLO 指标字典、Prometheus 告警模板）。
- 多 Agent 管理最小控制面（注册/心跳/分组）。
- 统一任务与事件模型（`file_events`/`tasks`/`decisions`）。
- AI 结果质量治理（提示词版本、效果评估、回放样本）。
- 新输入适配器评估（Webhook/消息队列/外部日志源）。

### C 类（当前阶段暂缓）
- 无审批的全自动处置（Auto-remediation 全量放开）。
- 重型工作流 DSL 与复杂跨系统编排。
- 完整多租户/RBAC/计费体系。
- 大规模报表平台与成本优化引擎。

## 范围冻结规则
- 本迭代仅接受 A 类工作项；B/C 默认进入 backlog。
- 新需求必须映射到至少一个目标：`事件决策效率`、`MTTD/MTTR`、`可观测性`、`安全性`。
- 若无法量化收益（指标或故障场景），则延后。
- 新增需求可不依赖文件上传，不强制接入上传链路。
- AI 相关需求不再以“探索项”名义跳过治理，必须附带可回滚与可观测设计。

## 完成口径
- 代码可构建。
- 后端 `go test ./...` 通过。
- 前端 `npm run build` 通过。
- 文档同步更新（配置项、接口行为、默认值、风险说明）。
