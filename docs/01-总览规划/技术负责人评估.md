# 技术负责人评估（代码与文档现状）

> 文档状态：兼容保留  
> 校准日期：2026-02-22
> 口径说明：如与主线目录冲突，以 docs/00-文档治理/文档现行状态清单.md 与主线目录文档为准。

> 评估范围：`go-watch-file`、`console-frontend`、`docs/`、`README`、`todo.md`、`大纲.md`、`AIOps 智能运维解决方案综述.md`、`legacy/`。  
> 评估目标：识别项目真实状态、主要问题与下一阶段执行建议。

## 1) 项目真实状态

### 1.1 项目目标（当前可识别）
- 主目标应明确为“运维事件分析与知识决策平台”，文件上传为输入适配器之一。
- 代码中已形成三条可运行链路：输入适配链路、告警决策链路、AI 分析链路。
- 仍处于“单机控制面 + 平台化过渡阶段”，尚未进入真正多 Agent 管理阶段。

### 1.2 已实现能力（与代码一致）
- 数据面（Agent）：递归监听、多目录支持、静默窗口判定、临时文件过滤、后缀过滤。
- 传输面：上传队列 + worker pool、重试策略、可选队列持久化恢复。
- 控制台后端 API：dashboard、manual/auto upload、file-log tail/检索、config、health、alerts、alert-config、alert-rules、system、ai/log-summary。
- 告警：规则匹配、抑制、升级、通知；告警决策可视化。
- AI：日志总结、告警 AI 摘要（可配置启用）。
- 安全基线：接口访问边界、CORS 白名单、路径越权防护。

### 1.3 核心与边缘能力划分
- 核心能力
  - 运维事件分析与决策可靠性（输入、分析、决策、可见性）。
  - 告警决策闭环（规则命中、抑制/升级、通知、控制台呈现）。
  - AI 辅助分析闭环（日志与告警分析、结构化结果、降级处理）。
- 边缘或潜在失控能力
  - 系统资源面板（功能完整，但与主链路耦合价值未量化）。
  - 高级路由编排、多租户/RBAC、复杂工作流 DSL（文档规划较多，代码支撑不足）。
  - legacy OOM 历史资料（信息量大，容易干扰当前平台目标）。

## 2) 当前主要问题

### 2.1 范围与产品边界问题
- 历史文档曾出现“仅上传闭环”与“AIOps 平台化”并存，导致执行口径分裂。
- 当前实现已包含 AI/告警能力，但部分规划仍按“上传工具”思维组织迭代优先级。
- 需求池覆盖面过宽（上传、控制面、编排、报表、AIOps、系统运维），缺少明确阶段门禁。

### 2.2 技术与架构风险
- 状态中心仍以进程内内存为主，跨实例与长期追踪能力不足。
- 控制面缺失（Agent 注册/心跳/分组/版本/灰度），难以支撑规模化运维。
- 统一任务模型与事件模型尚未落地，上传、告警、AI 之间仍偏“功能并列”而非“事件驱动”。
- AI 质量治理尚弱（评测样本、版本基线、误报漏报度量未标准化）。
- 指标体系不完整，缺少统一 SLO 与门禁指标（成功率、滞留、MTTD/MTTR、AI 采纳率）。

### 2.3 认知与决策缺口
- 缺少明确“当前阶段 北极星 指标”与验收门槛。
- 缺少“哪些能力必须做、哪些绝不在本阶段做”的硬边界列表。
- 缺少跨模块统一的数据契约（`file_event`、`task`、`decision`、`analysis` 的统一主键与关联键）。

## 3) 下一阶段建议（技术负责人视角）

### 3.1 90 天优先级（建议）
- P0：可靠性与观测
  - 完成上传链路关键 SLO 指标与告警（成功率、队列水位、失败分类、重试分布）。
  - 建立 AI 分析质量基线（固定回放样本 + 结果结构校验 + 超时降级统计）。
- P1：控制面 MVP
  - 落地 Agent 注册/心跳/分组最小闭环。
  - 建立最小数据模型：`agents`、`file_events`、`tasks`（至少做到可追踪）。
- P2：AIOps 增强
  - 做异常检测与根因关联的 v1（先规则 + 统计，再逐步引入模型推断）。
  - 自动化动作坚持“审批 + 回滚 + 灰度”三件套。

### 3.2 管理动作建议
- 设立阶段门禁：每个迭代只对齐 2~3 个核心结果指标。
- 建立“功能进入标准”：新增能力必须声明收益指标、风险、回滚策略。
- 将 legacy 文档明确标注为历史上下文，不参与当前路线决策依据。

### 3.3 建议立即补齐的文档与机制
- 《阶段目标与不做清单》（防止范围漂移）。
- 《指标字典与 SLO 门禁》（研发/测试/运维统一口径）。
- 《AI 质量评估清单》（输入样本、输出结构、人工复核流程）。

## 4) 信息缺口（需补充后才能做精确决策）
- 缺少真实生产负载画像（文件量级、峰值、文件大小分布、失败主要原因）。
- 缺少业务优先级输入（哪些业务线必须优先保障、哪些可延后）。
- 缺少目标 SLA 与组织约束（可用性目标、合规要求、预算与人力规模）。
- 缺少 AI 成果衡量标准（误报/漏报定义、人工采纳率目标、处置闭环目标）。
