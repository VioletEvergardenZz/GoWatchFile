# 通用文件监控与处理平台概述

> 目标：将“文件监控 + 上传 + 通知 + 可视化”抽象为通用平台，支持多种业务文件的自动入云、观察与追踪。

## 当前实现（与代码一致）
- **Agent（go-watch-file）**：递归监控目录，静默窗口判定写入完成，上传至 S3 兼容存储。
- **控制台 API**：聚合仪表盘数据，提供自动上传开关、手动上传、文件 Tail 与运行时配置更新。
- **前端控制台**：展示目录树、文件列表、上传记录、队列趋势、监控摘要与 Tail。
- **通知**：钉钉机器人（可选）。

## 典型工作流
1) 文件写入到监控目录（支持子目录）。
2) Agent 判断后缀并等待静默窗口结束。
3) 进入上传队列 → worker 并发上传至 S3。
4) 运行态记录上传结果，并通过 API 提供给控制台。
5) （可选）钉钉通知发送上传结果。

## 现状与限制
- **单一监控目录、单一后缀**：`file_ext` 为空时视为不过滤。
- **队列在内存中**：重启后清空；无自动重试与断点续传。
- **通知渠道有限**：当前仅钉钉，企业微信仅保留字段。
- **无多 Agent 管理**：控制面为本地 API + 前端。

## 规划方向（概览）
- 多后缀/忽略规则、失败重试、指标暴露（Prometheus）。
- 多 Agent 管理、配置中心、统一鉴权与审计。
- 路由/编排、Webhook/队列触发、报表与告警体系。

详细规划见 `todo.md` 与 `大纲.md`。

## 进一步阅读
- 流程图：`docs/system-flowchart.md`
- 开发指南：`docs/dev-guide.md`
- 前后端联动：`docs/frontend-backend-linkage.md`
- DTO 结构：`docs/state-types-visual.md`
- FAQ：`docs/faq.md`
